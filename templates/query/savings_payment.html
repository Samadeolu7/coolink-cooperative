{%extends 'base.html' %}

{%block title%}
Person Payments
{% endblock %}

{% block header%}
Coolink Cooperative Savings Account
{% endblock  %}

{%block content%}
<body id="person">
    <table class="tab-content">
    
    <tbody>

        <tr>
            <th>Date</th>
            <th>Name</th>
            <th>Description</th>
            <th>Amount</th>
            
        </tr>
        
        {% for payment in payments %}
            <tr>
                <td>{{ payment.date }}</td>
                <td>
                    <a href="{{url_for('savings_account',person_id=payment.payer.id)}}">{{ payment.payer.name}}</a>
                </td>
                <td>{{ payment.description}}</td>
                <td>{{ payment.amount | currency}}</td>
                
            </tr>
        {% endfor %}
    </tbody>
</table>

<button id="downloadExcelButton">Download Excel Report</button>

<button id="downloadPdfButton">Download PDF Report</button>

<script>
    // Get the button element by its ID
    var buttonExcel = document.getElementById("downloadExcelButton");
    var buttonPdf = document.getElementById("downloadPdfButton");

    // Define the link URL
    var linkUrlExcel = "{{url_for('download_excel',type='savings',type_id='None')}}";
    var linkUrlPdf = "{{url_for('download_pdf',type='savings',type_id='None')}}";

    // Add a click event listener to the button
    buttonExcel.addEventListener("click", function() {
        // Redirect to the link URL
        window.location.href = linkUrlExcel;
    });
    buttonPdf.addEventListener("click", function() {
        // Redirect to the link URL
        window.location.href = linkUrlPdf;
    });
</script>
</body>






{% endblock  %}